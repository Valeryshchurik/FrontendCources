{"ast":null,"code":"var _jsxFileName = \"/home/valery/Work/fe/FrontendCources/Task5/reacttask/src/components/timer/Timer.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useRef } from \"@types/react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Timer = _ref => {\n  _s();\n\n  let {\n    children,\n    settings,\n    onComplete\n  } = _ref;\n  const [time, setTime] = useState([0, 0, 5]);\n  const [want_to_start, setWantToStart] = useState(true);\n  const intervalId = useRef();\n  useEffect(() => {\n    if (want_to_start) {\n      setWantToStart(false);\n      startTimer();\n    }\n  }, [want_to_start]);\n\n  function startTimer() {\n    intervalId.current = setInterval(() => {\n      setTime(time => {\n        let hours = time[0];\n        let minutes = time[1];\n        let seconds = time[2];\n        let h = hours;\n        let m = minutes;\n        let s = seconds - 1;\n\n        if (s === -1) {\n          let m = minutes - 1;\n          s = 59;\n\n          if (m === -1) {\n            let h = hours - 1;\n            m = 59; // Why do webstorm is lying to me?\n\n            if (h === -1) {\n              s = 0;\n              m = 0; // Why do webstorm is lying to me?\n\n              h = 0; // Why do webstorm is lying to me?\n\n              clearInterval(intervalId);\n            }\n          }\n        }\n\n        console.log(seconds);\n        return [h, m, s];\n      });\n    }, 1000);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [children(time[0], time[1], time[2]), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        clearInterval(intervalId.current);\n        setWantToStart(true);\n        setTime([0, 0, 5]);\n      },\n      children: \"\\u0420\\u0435\\u0441\\u0442\\u0430\\u0440\\u0442\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Timer, \"cQ/q04e1XmnDPTilk+QOkqcLUFw=\");\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"names":["React","useEffect","useState","useRef","Timer","children","settings","onComplete","time","setTime","want_to_start","setWantToStart","intervalId","startTimer","current","setInterval","hours","minutes","seconds","h","m","s","clearInterval","console","log"],"sources":["/home/valery/Work/fe/FrontendCources/Task5/reacttask/src/components/timer/Timer.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useRef} from \"@types/react\";\n\nconst Timer = ({children, settings, onComplete}) => {\n    const [time, setTime] = useState([0, 0, 5])\n\n    const [want_to_start, setWantToStart] = useState(true);\n    const intervalId = useRef();\n    useEffect(() => {\n        if (want_to_start) {\n            setWantToStart(false)\n            startTimer();\n        }\n    }, [want_to_start]);\n\n    function startTimer() {\n        intervalId.current = setInterval(() => {\n            setTime((time)=>{\n                let hours = time[0];\n                let minutes = time[1];\n                let seconds = time[2];\n\n                let h = hours;\n                let m = minutes;\n                let s = seconds - 1;\n\n\n                if (s === -1) {\n                    let m = minutes - 1;\n                    s = 59;\n                    if (m === -1){\n                        let h = hours -1;\n                        m = 59;  // Why do webstorm is lying to me?\n                        if (h === -1){\n                            s=0;\n                            m=0;  // Why do webstorm is lying to me?\n                            h=0;  // Why do webstorm is lying to me?\n                            clearInterval(intervalId)\n                        }\n                    }\n                }\n                console.log(seconds)\n                return [h, m, s]}\n            );\n        }, 1000);\n    }\n\n\n    return (\n        <div>\n            {children(time[0], time[1], time[2])}\n            <button onClick={() => {clearInterval(intervalId.current); setWantToStart(true); setTime([0,0,5])}}>\n                Рестарт\n            </button>\n        </div>\n    );\n};\n\nexport default Timer;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,MAAR,QAAqB,cAArB;;;AAEA,MAAMC,KAAK,GAAG,QAAsC;EAAA;;EAAA,IAArC;IAACC,QAAD;IAAWC,QAAX;IAAqBC;EAArB,CAAqC;EAChD,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAD,CAAhC;EAEA,MAAM,CAACQ,aAAD,EAAgBC,cAAhB,IAAkCT,QAAQ,CAAC,IAAD,CAAhD;EACA,MAAMU,UAAU,GAAGT,MAAM,EAAzB;EACAF,SAAS,CAAC,MAAM;IACZ,IAAIS,aAAJ,EAAmB;MACfC,cAAc,CAAC,KAAD,CAAd;MACAE,UAAU;IACb;EACJ,CALQ,EAKN,CAACH,aAAD,CALM,CAAT;;EAOA,SAASG,UAAT,GAAsB;IAClBD,UAAU,CAACE,OAAX,GAAqBC,WAAW,CAAC,MAAM;MACnCN,OAAO,CAAED,IAAD,IAAQ;QACZ,IAAIQ,KAAK,GAAGR,IAAI,CAAC,CAAD,CAAhB;QACA,IAAIS,OAAO,GAAGT,IAAI,CAAC,CAAD,CAAlB;QACA,IAAIU,OAAO,GAAGV,IAAI,CAAC,CAAD,CAAlB;QAEA,IAAIW,CAAC,GAAGH,KAAR;QACA,IAAII,CAAC,GAAGH,OAAR;QACA,IAAII,CAAC,GAAGH,OAAO,GAAG,CAAlB;;QAGA,IAAIG,CAAC,KAAK,CAAC,CAAX,EAAc;UACV,IAAID,CAAC,GAAGH,OAAO,GAAG,CAAlB;UACAI,CAAC,GAAG,EAAJ;;UACA,IAAID,CAAC,KAAK,CAAC,CAAX,EAAa;YACT,IAAID,CAAC,GAAGH,KAAK,GAAE,CAAf;YACAI,CAAC,GAAG,EAAJ,CAFS,CAEA;;YACT,IAAID,CAAC,KAAK,CAAC,CAAX,EAAa;cACTE,CAAC,GAAC,CAAF;cACAD,CAAC,GAAC,CAAF,CAFS,CAEH;;cACND,CAAC,GAAC,CAAF,CAHS,CAGH;;cACNG,aAAa,CAACV,UAAD,CAAb;YACH;UACJ;QACJ;;QACDW,OAAO,CAACC,GAAR,CAAYN,OAAZ;QACA,OAAO,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,CAAP;MAAiB,CAzBd,CAAP;IA2BH,CA5B+B,EA4B7B,IA5B6B,CAAhC;EA6BH;;EAGD,oBACI;IAAA,WACKhB,QAAQ,CAACG,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,EAAmBA,IAAI,CAAC,CAAD,CAAvB,CADb,eAEI;MAAQ,OAAO,EAAE,MAAM;QAACc,aAAa,CAACV,UAAU,CAACE,OAAZ,CAAb;QAAmCH,cAAc,CAAC,IAAD,CAAd;QAAsBF,OAAO,CAAC,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,CAAP;MAAiB,CAAlG;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAQH,CArDD;;GAAML,K;;KAAAA,K;AAuDN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}